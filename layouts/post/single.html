{{ define "main" }}
<article class="content-card">
  <header class="post-header">
    {{ if .Title }}
    <h1 class="post-title">{{ .Title }}</h1>
    {{ end }}
    
    <div class="post-meta">
      {{ if .Date }}
      <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
      {{ end }}
      
      {{ if .Params.author }}
      {{ if .Date }} • {{ end }}
      <span class="author">{{ .Params.author }}</span>
      {{ end }}
      
      {{ if .Params.categories }}
      {{ if or .Date .Params.author }} • {{ end }}
      <span class="categories">
        {{ range $index, $category := .Params.categories }}
          {{ if gt $index 0 }}, {{ end }}
          <a href="{{ "/categories/" | relLangURL }}{{ . | urlize }}" class="category-link">{{ . }}</a>
        {{ end }}
      </span>
      {{ end }}
    </div>
  </header>

  <div class="post-content">
    {{ .Content }}
</div>

  {{ if or .Params.tags .Params.categories }}
  <footer class="post-footer mt-4">
{{ if .Params.categories }}
{{ with .GetTerms "categories" }}
    <div class="post-categories mb-3">
      <h6 class="mb-2">Categories:</h6>
    {{ range . }}
      <a href="{{ .RelPermalink }}" class="badge bg-primary text-decoration-none me-2 mb-2">{{ .LinkTitle }}</a>
      {{ end }}
    </div>
    {{ end }}
{{ end }}
    
    {{ if .Params.tags }}
    <div class="post-tags">
      <h6 class="mb-2">Tags:</h6>
      {{ range .Params.tags }}
      <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="badge bg-secondary text-decoration-none me-2 mb-2"># {{ . }}</a>
{{ end }}
</div>
    {{ end }}
  </footer>
  {{ end }}
</article>
{{ end }}
